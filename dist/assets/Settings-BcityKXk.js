import{c,a as L,Q as q,r as t,j as e,n as F,d as N,b as v,D as a,E as B,S as R,T as V}from"./index-D4SRrvyr.js";import{L as Z}from"./lock-BNqWA4eD.js";import{S as H}from"./shield-rQS9Szxa.js";import{T as I}from"./trash-2-B1iVALqi.js";const O=c("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const Q=c("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const k=c("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const $=c("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function Y(){const{currentUser:r,changeEmail:P,changePassword:S,updateUserProfile:E,logout:G}=L(),z=q(),[l,d]=t.useState(""),[u,m]=t.useState(!1),[i,h]=t.useState(""),[o,x]=t.useState(""),[p,f]=t.useState(!1),[g,C]=t.useState(r?.preferences?.emailNotifications??!0),[b,D]=t.useState(r?.preferences?.publicProfile??!0),[j,y]=t.useState(!1);async function A(s){if(s.preventDefault(),!(!l||l===r.email)){m(!0);try{await P(l),await F(N(v,"users",r.uid),{email:l}),d(""),a.success("Email updated successfully! âœ…")}catch(n){console.error("Error updating email:",n),n.code==="auth/requires-recent-login"?a.error("Please log out and log back in to change your email"):a.error("Failed to update email")}finally{m(!1)}}}async function U(s){if(s.preventDefault(),i!==o){a.error("Passwords do not match");return}if(i.length<6){a.error("Password must be at least 6 characters");return}f(!0);try{await S(i),h(""),x(""),a.success("Password updated successfully! ðŸ”’")}catch(n){console.error("Error updating password:",n),n.code==="auth/requires-recent-login"?a.error("Please log out and log back in to change your password"):a.error("Failed to update password")}finally{f(!1)}}async function M(){y(!0);try{await E({preferences:{theme:"dark",emailNotifications:g,publicProfile:b}}),a.success("Preferences saved! âœ¨")}catch(s){console.error("Error saving preferences:",s),a.error("Failed to save preferences")}finally{y(!1)}}async function T(){if(!window.confirm("Are you sure you want to delete your account? This action cannot be undone."))return;if(window.prompt('Type "DELETE" to confirm account deletion')!=="DELETE"){a.error("Account deletion cancelled");return}try{await B(N(v,"users",r.uid)),await R(V.currentUser),a.success("Account deleted"),z("/login")}catch(w){console.error("Error deleting account:",w),w.code==="auth/requires-recent-login"?a.error("Please log out and log back in to delete your account"):a.error("Failed to delete account")}}return e.jsxs("section",{className:"mx-auto max-w-4xl px-4 py-12",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-6 flex items-center gap-3",children:[e.jsx($,{size:32}),"Settings"]}),e.jsx("p",{className:"text-zinc-300 mb-8",children:"Manage your account and preferences"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"glass p-6 rounded-2xl",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Q,{size:20}),"Account Settings"]}),e.jsxs("form",{onSubmit:A,className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"email",value:l,onChange:s=>d(s.target.value),placeholder:r?.email,className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-brand-400"}),e.jsx("button",{type:"submit",disabled:u||!l,className:"px-4 py-2 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Updating...":"Update"})]})]}),e.jsxs("form",{onSubmit:U,children:[e.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[e.jsx(Z,{size:16}),"Change Password"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"password",value:i,onChange:s=>h(s.target.value),placeholder:"New password",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-brand-400"}),e.jsx("input",{type:"password",value:o,onChange:s=>x(s.target.value),placeholder:"Confirm new password",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-brand-400"}),e.jsx("button",{type:"submit",disabled:p||!i||!o,className:"px-4 py-2 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Updating...":"Change Password"})]})]})]}),e.jsxs("div",{className:"glass p-6 rounded-2xl",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(H,{size:20}),"Privacy Settings"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Public Profile"}),e.jsx("div",{className:"text-sm text-zinc-400",children:"Allow others to see your profile"})]}),e.jsxs("label",{className:"relative inline-block w-12 h-6",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:s=>D(s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-full h-full bg-white/10 peer-checked:bg-brand-400 rounded-full peer transition-all cursor-pointer"}),e.jsx("div",{className:"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full peer-checked:translate-x-6 transition-all"})]})]})})]}),e.jsxs("div",{className:"glass p-6 rounded-2xl",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(O,{size:20}),"Notification Settings"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Email Notifications"}),e.jsx("div",{className:"text-sm text-zinc-400",children:"Receive updates via email"})]}),e.jsxs("label",{className:"relative inline-block w-12 h-6",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:s=>C(s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-full h-full bg-white/10 peer-checked:bg-brand-400 rounded-full peer transition-all cursor-pointer"}),e.jsx("div",{className:"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full peer-checked:translate-x-6 transition-all"})]})]})}),e.jsx("button",{onClick:M,disabled:j,className:"mt-4 px-4 py-2 btn-primary disabled:opacity-50",children:j?"Saving...":"Save Preferences"})]}),e.jsxs("div",{className:"glass p-6 rounded-2xl",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(k,{size:20}),"Appearance"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Theme"}),e.jsx("div",{className:"text-sm text-zinc-400",children:"Currently using Dark theme"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/5 border border-white/10 rounded-lg",children:[e.jsx(k,{size:16,className:"text-brand-400"}),e.jsx("span",{className:"font-medium",children:"Dark"})]})]}),e.jsx("p",{className:"text-xs text-zinc-500 mt-3",children:"ðŸ’¡ Light theme coming in a future update"})]}),e.jsxs("div",{className:"glass p-6 rounded-2xl border-2 border-red-500/20",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2 text-red-400",children:[e.jsx(I,{size:20}),"Danger Zone"]}),e.jsx("p",{className:"text-zinc-300 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),e.jsx("button",{onClick:T,className:"px-6 py-2 bg-red-500/20 border border-red-500/40 text-red-400 rounded-lg hover:bg-red-500/30 transition",children:"Delete Account"})]})]})]})}export{Y as default};
